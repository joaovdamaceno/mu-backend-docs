"use strict";(self.webpackChunkmu_backend_docs=self.webpackChunkmu_backend_docs||[]).push([[89],{3572:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"tests/overview","title":"Como testar se est\xe1 funcionando","description":"Voc\xea pode testar de duas formas:","source":"@site/docs/tests/overview.md","sourceDirName":"tests","slug":"/tests/overview","permalink":"/tests/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/joaovdamaceno/mu-backend-docs/tree/main/docs/tests/overview.md","tags":[],"version":"current","frontMatter":{"title":"Como testar se est\xe1 funcionando"},"sidebar":"docsSidebar","previous":{"title":"Troubleshooting (erros comuns)","permalink":"/db/troubleshooting"},"next":{"title":"Testes autom\xe1ticos (JUnit)","permalink":"/tests/junit"}}');var r=n(4848),t=n(8453);const a={title:"Como testar se est\xe1 funcionando"},i=void 0,d={},c=[{value:"Como rodar",id:"como-rodar",level:2},{value:"Pr\xe9-requisitos",id:"pr\xe9-requisitos",level:3},{value:"Passo a passo",id:"passo-a-passo",level:3}];function l(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"Voc\xea pode testar de duas formas:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Manual (Postman)"}),": mais r\xe1pido pra validar API e banco"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Autom\xe1tico (JUnit/Spring Boot Test)"}),": bom pra garantir que n\xe3o quebrou\nPara come\xe7ar r\xe1pido, use ",(0,r.jsx)(s.strong,{children:"API \u2192 Postman"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"como-rodar",children:"Como rodar"}),"\n",(0,r.jsx)(s.h3,{id:"pr\xe9-requisitos",children:"Pr\xe9-requisitos"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Java + Maven/Gradle"})," instalados (Java 17+ recomendado)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Banco de testes"})," acess\xedvel (PostgreSQL local ou container) com as vari\xe1veis de ambiente configuradas:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"DB_URL=jdbc:postgresql://localhost:5432/mu"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"DB_USERNAME=postgres"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"DB_PASSWORD=postgres"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"passo-a-passo",children:"Passo a passo"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Garanta que o banco de testes est\xe1 de p\xe9 e com migra\xe7\xf5es aplicadas (pode usar ",(0,r.jsx)(s.code,{children:"docker compose up db"})," se existir). Para criar/limpar dados rapidamente, use os endpoints descritos em ",(0,r.jsx)(s.a,{href:"/api/endpoints",children:"API \u2192 Endpoints"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Exportar as vari\xe1veis de ambiente antes de rodar os testes:","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"export DB_URL=jdbc:postgresql://localhost:5432/mu\nexport DB_USERNAME=postgres\nexport DB_PASSWORD=postgres\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Rodar a su\xedte completa de testes autom\xe1ticos:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Maven: ",(0,r.jsx)(s.code,{children:"mvn test"})]}),"\n",(0,r.jsxs)(s.li,{children:["Gradle: ",(0,r.jsx)(s.code,{children:"./gradlew test"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Para rodar apenas testes de integra\xe7\xe3o (separados por profile/nomes), use o filtro da sua ferramenta:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Maven: ",(0,r.jsx)(s.code,{children:"mvn -DskipUnitTests -Pintegration test"})," (ajuste os perfis conforme o projeto)"]}),"\n",(0,r.jsxs)(s.li,{children:["Gradle: ",(0,r.jsx)(s.code,{children:"./gradlew integrationTest"})," (se a task existir)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Se os testes precisarem de dados iniciais, suba o backend e fa\xe7a chamadas para os endpoints de carga (por exemplo, ",(0,r.jsx)(s.code,{children:"POST /api/posts"}),") seguindo ",(0,r.jsx)(s.a,{href:"/api/postman",children:"API \u2192 Postman"})," ou scripts de seed do projeto."]})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>i});var o=n(6540);const r={},t=o.createContext(r);function a(e){const s=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(t.Provider,{value:s},e.children)}}}]);